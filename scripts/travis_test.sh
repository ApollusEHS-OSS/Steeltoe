#!/bin/bash

# Run unit tests
cd test/Steeltoe.CircuitBreaker.Hystrix.Core.Test
dotnet restore --configfile ../../nuget.config
dotnet xunit -verbose -framework netcoreapp2.0
if [[ $? != 0 ]]; then exit 1 ; fi
cd ../..
cd test/Steeltoe.CircuitBreaker.HystrixCore.Test
dotnet restore --configfile ../../nuget.config
dotnet xunit -verbose -framework netcoreapp2.0
if [[ $? != 0 ]]; then exit 1 ; fi
cd ../..
cd test/Steeltoe.CircuitBreaker.Hystrix.MetricsEventsCore.Test
dotnet restore --configfile ../../nuget.config
dotnet xunit -verbose -framework netcoreapp2.0
if [[ $? != 0 ]]; then exit 1 ; fi
cd ../..
cd test/Steeltoe.CircuitBreaker.Hystrix.MetricsStreamCore.Test
dotnet restore --configfile ../../nuget.config
dotnet xunit -verbose -framework netcoreapp2.0
if [[ $? != 0 ]]; then exit 1 ; fi
cd ../..
